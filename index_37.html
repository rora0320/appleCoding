<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kyeonghwa Javascript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="detail.css">
</head>

<body>
    <div class="container mt-5">
        <ul class="list">
            <li class="tab-button" data-item="0">Products</li>
            <li class="tab-button orange" data-item="1">Information</li>
            <li class="tab-button" data-item="2">Shipping</li>
        </ul>
        <div class="tab-content">
            <p>상품설명입니다. Product</p>
        </div>
        <div class="tab-content show">
            <p>스펙설명입니다. Information</p>
        </div>
        <div class="tab-content">
            <p>배송정보입니다. Shipping</p>
        </div>
    </div>
    <div class="container">
      <div class="row">
    
    
      </div>
    </div>

    <div class="container">
      <button class="btn btn-danger" id='more'> 더보기 </button>
      <button class="btn btn-primary" id='order'> 가격순 </button>
      <button class="btn btn-primary" id='desc'> 다나가순 </button>
      <button class="btn btn-primary" id='limit6'> 6만원이하 </button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"
        integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
</body>

</html>
<!-- 확장성 생각하면서 동적으로 select option 생성하기 -->
<script>
  // $.get('https://codingapple1.github.io/hello.txt')
  // .done(function(data){
  //   console.log(data);
  // }).fail(function(){
  //   console.log('get 요청 실패시');
  // });

  var more = 1;
  var products = [
    { id : 0, price : 70000, title : 'Blossom Dress' },
    { id : 1, price : 50000, title : 'Springfield Shirt' },
    { id : 2, price : 60000, title : 'Black Monastery' }
  ];

  function makeHTMLTag(i){
    const div = document.createElement('div')
    div.className='col-sm-4';
    $('.row').append(div);
    const img = document.createElement('img')
    img.src="https://via.placeholder.com/600";
    img.className="w-100";

    const h5 =document.createElement('h5');
    h5.innerHTML=products[i].title;
    console.log(i)
    console.log(products[i].title)
    const p = document.createElement('p');
    p.innerHTML='가격 : '+products[i].price
    $('.col-sm-4')[i].append(img,h5,p)
  }
  //html 생성해보기
  for(let i = 0 ; i < products.length ; i++){
    makeHTMLTag(i)
  }

  // //숙제 정답 
  // var products = 생략;

  function template(products){
    products.forEach((a, i)=>{
        var 템플릿 = 
        `<div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100">
          <h5>${products[i].title}</h5>
          <p>가격 : ${products[i].price}</p>
        </div>`;
        $('.row').append(템플릿)
  });
  }

  $('#more').on('click',function(){

      $.get(`https://codingapple1.github.io/js/more${more}.json`)
    .done(function(getMoreProductList){
      getMoreProductList.forEach(element => {
        var 템플릿 = 
        `<div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100">
          <h5>${element.title}</h5>
          <p>가격 : ${element.price}</p>
        </div>`;
        $('.row').append(템플릿)
      });
      more++;
      if(more > 2 ){
        $('#more').hide();
      }
    })
  })
  // $(document).ready(function(){
  //   console.log('products',products)
  //   for(let i = 0 ; i < products.length ; i++){
  //     $('.col-sm-4 h5')[i].innerHTML=`${products[i].title}`
  //     $('.col-sm-4 p')[i].innerHTML=`가격: ${products[i].price}`
  //   }
  // })

  //가격 정렬기능
  $('#order').click(function(){
    console.log('products',products)
    products.sort((a,b)=>{
      return a.price - b.price
    })
    $('.row').html('');
    template()
  })

  //6만원 이하 상품보기 기능
  $('#limit6').click(function(){
    const limitProducts = products.filter((product)=>{
      return product.price < 60000
    });
    $('.row').html('');
    template(limitProducts);
  })

  //다나가순 정렬
  $('#desc').click(()=>{
    const descTitle = products.sort((a,b)=>{
      return a.title.localeCompare(b.title)
    })
  })

  $.get('https://codingapple1.github.io/price.json')
  .done(function(data){
    console.log(data);
  }).fail(function(){
    console.log('get 요청 실패시');
  });

  //생 자바스크립트
  // fetch('https://codingapple1.github.io/price.json')
  // .then(res => res.json())
  // .then(function(data){
  //   console.log(data)
  // })
  // .catch(function(error){
  //   console.log('실패함')
  // });

  // $.post('https://codingapple1.github.io/hello.txt',{name:'kim'}).done(function(){
  //   console.log('post 요청')
  // })
</script>
<script src="tab.js"></script>